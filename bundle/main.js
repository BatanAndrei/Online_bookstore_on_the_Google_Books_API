(()=>{"use strict";let t="";const n=document.querySelector(".showecase-books"),e=document.querySelector(".btn_load-more"),i=document.querySelectorAll(".category-books_item");let s="buy now",a="subject:Architecture",o=0,l="",r=[],c=[];async function d(){const e=(await fetch(`https://www.googleapis.com/books/v1/volumes?q=${a}&key=AIzaSyC8YBwRI2UO8lk5k4S31Z77MyGZr_Lu_bI&printType=books&startIndex=${o}&maxResults=6&langRestrict='en'`).then((t=>t.json())).then((t=>t)).catch((()=>{console.log("error")}))).items;e.forEach((t=>{let e=`<div class="book-position">\n                          <img class="${t.volumeInfo?.imageLinks?.thumbnail?"book-position_image":"book-position_image-none"}" src="${t.volumeInfo?.imageLinks?.thumbnail}" alt="foto book">\n                          <div class="book-position_info">\n                              <h2 class="book-position_info-author">${t.volumeInfo?.authors}</h2>\n                              <h2 class="book-position_info-title">${t.volumeInfo?.title}</h2>\n                              <div class="${t.volumeInfo?.averageRating?"rating-block":"rating-block-none"}">\n                                  <div class="${t.volumeInfo?.averageRating?"rating-block_stars":""}">   \n                                      <div class="${1===t.volumeInfo?.averageRating?"rating-block_stars__one":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${2===t.volumeInfo?.averageRating?"rating-block_stars__two":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${3===t.volumeInfo?.averageRating?"rating-block_stars__three":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${4===t.volumeInfo?.averageRating?"rating-block_stars__four":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${5===t.volumeInfo?.averageRating?"rating-block_stars__five":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                      </div>\n                                  </div>\n                                  <h2 class="${t.volumeInfo?.ratingsCount?"rating-block_count":"rating-block_count-none"}">${t.volumeInfo?.ratingsCount} review</h2>\n                              </div>\n                              <h2 class="${t.volumeInfo?.description?"book-position_info-description":"book-position_info-description-none"}">${t.volumeInfo?.description}</h2>\n                              <h2 class="${t.saleInfo?.retailPrice?.amount?"book-position_info-sale":"book-position_info-sale-none"}">&#36; ${t.saleInfo?.retailPrice?.amount}</h2>\n                              <button class="btn_buy-now" type="button" data-btnbuy="${t.id}">${s}</button>\n                          </div>\n                      </div>`;n.innerHTML+=e})),c.push(e),document.querySelectorAll(".btn_buy-now").forEach((n=>{n.addEventListener("click",(n=>{let e=document.querySelector(".nav-info_cart-flag"),i=n.target.closest(".btn_buy-now");i.classList.toggle("btn_in_the_cart"),i.classList.contains("btn_in_the_cart")?(i.innerText="In the cart",function(n){if(n.target.dataset.btnbuy)for(let e=0;e<c.length;e++){let i=c[e];i.forEach((e=>{if(t=e.id,t==n.target.dataset.btnbuy){let n=i.find((n=>n.id===t));r.push(n),localStorage.setItem("inCart",JSON.stringify(r))}}))}}(n),e.innerText=r.length):(i.innerText="buy now",function(n){for(let e=0;e<c.length;e++)c[e].forEach((e=>{t=e.id,t==n.target.dataset.btnbuy&&(r.forEach(((n,e)=>{n.id==t&&r.splice(e,1)})),localStorage.setItem("inCart",JSON.stringify(r)))}))}(n),e.innerText=r.length)}))}))}let v=[{url:"./banner 1.png"},{url:"./banner 2.png"},{url:"./banner 3.png"}];document.addEventListener("DOMContentLoaded",(function(){!function(){if(!v||!v.length)return;let t=document.querySelector(".container-slider"),n=document.querySelector(".container-dots");function e(e){n.querySelector(".active").classList.remove("active"),n.querySelector(".n"+e).classList.add("active"),t.querySelector(".active").classList.remove("active"),t.querySelector(".n"+e).classList.add("active")}v.forEach(((n,e)=>{let i=`<div class="image n${e} ${0===e?"active":""}" style="background-image:url('${v[e].url}');" data-index="${e}"></div>`;t.innerHTML+=i})),v.forEach(((t,e)=>{let i=`<div class="dot n${e} ${0===e?"active":""}" data-index="${e}"></div>`;n.innerHTML+=i})),n.querySelectorAll(".dot").forEach((t=>{t.addEventListener("click",(function(){e(this.dataset.index)}))})),setInterval((()=>{let n=+t.querySelector(".active").dataset.index;e(n===v.length-1?0:n+1)}),5e3)}(),d(),e.addEventListener("click",(()=>{o+=6,i.forEach((t=>{t.classList.contains("active")&&(l=t.innerText)})),a=`subject:${l}`,d()})),i.forEach((t=>{t.addEventListener("click",(e=>{let s=e.target.closest(".category-books_item");i.forEach((t=>{t.classList.contains("active")&&t.classList.remove("active")})),s.classList.add("active"),t.classList.contains("active")&&(l=t.innerText),n.innerHTML="",a=`subject:${l}`,d(),c=[]}))}))}))})();